<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Wavy Rock, Paper, Scissors</title>
</head>
<body>
    <h1>Wavy Rock, Paper, Scissors</h1>
    <h2 class = 'selection-header'>Make your selection:</h2>
    <button class = 'selection-btn'>Rock</button>
    <button class = 'selection-btn'>Paper</button>
    <button class = 'selection-btn'>Scissors</button>
    <h3 class = 'round-outcome'></h3>
    <script>
        function computerPlay(){
            choiceArray = ["rock", "paper", "scissors"];
            randomChoice = choiceArray[Math.floor(Math.random() * choiceArray.length)];
            return randomChoice;
        }

        var selectedButton;
        buttons = (document.getElementsByClassName('selection-btn'));

        let userScore = 0;
        let compScore = 0;
        for (i = 0; i < 3; ++i){
            buttons[i].addEventListener('click', function(){
                selectedButton = this.innerHTML;
                computerSelection = computerPlay();
                console.log(selectedButton)
                playRound(selectedButton,computerSelection);
            })
        }


        function playRound(playerSelection, computerSelection){
            lowercaseSelection = playerSelection.toLowerCase();
            let announce;
            if (lowercaseSelection === 'rock' && computerSelection === 'scissors'){
                announce = 'You Win! Rock is wavier than Scissors';
                userScore++;
            }
            else if (lowercaseSelection === 'rock' && computerSelection === 'paper'){
                announce = 'You Lose! Rock is less wavy compared Paper';
                compScore++;
            }
            else if (lowercaseSelection === 'scissors' && computerSelection === 'rock'){
                announce = 'You Lose! Scissors are less wavy compared to Rock';
                compScore++;
            }
            else if (lowercaseSelection === 'scissors' && computerSelection === 'paper'){
                announce = 'You Win! Scissors is wavier than Paper';
                userScore++;
            }
            else if (lowercaseSelection === 'paper' &&computerSelection === 'scissors'){
                announce = 'You Lose! Paper is less wavy compared to Scissors';
                compScore++;
            }
            else if (lowercaseSelection === 'paper' &&computerSelection === 'rock'){
                announce = 'You Win! Paper is wavier than Rock';
                userScore++;
            }
            else if (lowercaseSelection === computerSelection){
                function upperSelection(selection){
                    let upperChar = selection[0].toUpperCase();
                    let upperWord = selection.replace(selection[0], upperChar);
                    return upperWord
                }
                announce = 'Tie! ' + upperSelection(lowercaseSelection) + ' and ' + upperSelection(computerSelection) + '. Equally wavy';
                }
            if (userScore === 3){
                announce = 'You win the game! ' + userScore + ' rounds to ' + compScore + '. You\'re ultra wavy';
                clearBtns();
            }
            if (compScore === 3){
                announce = 'You lose the game! ' + userScore + ' round(s) to ' + compScore + '. A computer is wavier than you!';
                clearBtns();
            }
            document.querySelector('.round-outcome').innerHTML = `${announce}`
            console.log(userScore);
            return;
        }
        
        function clearBtns(){
            let header = document.querySelector('.selection-header');
            header.style.display = 'none';
            let buttons = document.getElementsByClassName('selection-btn');
            for (i = 0; i < 3; ++i){
                buttons[i].style.display = 'none';
            }
        }
    </script>
</body>
</html>